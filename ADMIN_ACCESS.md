# 🔐 יצירת משתמש אדמין - Shay

## 📋 צור את משתמש האדמין

### דרך 1: סקריפט אוטומטי (מומלץ!)

```bash
node create-shay-admin.js
```

זה ייצור אוטומטית:
- **Email:** SHAY053713@GMAIL.COM
- **Password:** 555333111
- **Role:** admin (גישה מלאה)
- **Plan:** enterprise

---

### דרך 2: ידנית דרך Supabase Dashboard

#### שלב 1: צור משתמש
1. פתח Supabase Dashboard
2. Authentication → Users → Add user
3. הזן:
   - Email: `SHAY053713@GMAIL.COM`
   - Password: `555333111`
   - Auto Confirm: ✅ סמן!
4. לחץ Create user

#### שלב 2: הפוך לאדמין
SQL Editor → הרץ:
```sql
SELECT ensure_admin_role();
```

---

## 🎉 פרטי התחברות

### משתמש אדמין ראשי:
- **Email:** SHAY053713@GMAIL.COM
- **Password:** 555333111
- **תפקיד:** מנהל ראשי (גישה מלאה לכל)

---

## 🚀 תכונות אימות חדשות שנוספו

### ✅ 1. שכחתי סיסמה
- בדף ההתחברות: לחץ "שכחתי סיסמה"
- הזן מייל
- תקבל לינק לאיפוס סיסמה למייל

### ✅ 2. התחברות עם Google
- כפתור "התחבר עם Google" בדפי Login ו-Signup
- התחברות מהירה עם חשבון Google
- ללא צורך בסיסמה

### ✅ 3. התחברות עם מספר טלפון
- בחר טאב "טלפון" בדף Login/Signup
- הזן מספר טלפון
- תקבל קוד אימות ב-SMS

### ✅ 4. זכור אותי
- תיבת סימון "זכור אותי" בהתחברות
- נשאר מחובר אפילו אחרי סגירת הדפדפן

---

## 📱 דוגמאות שימוש

### התחברות במייל (רגיל):
1. עבור ל-`/login`
2. בחר טאב "מייל"
3. הזן: SHAY053713@GMAIL.COM
4. סיסמה: 555333111
5. סמן "זכור אותי"
6. לחץ "התחבר"

### התחברות בטלפון:
1. עבור ל-`/login`
2. בחר טאב "טלפון"
3. הזן מספר טלפון
4. לחץ "שלח קוד אימות"
5. הזן את הקוד שקיבלת ב-SMS

### התחברות ב-Google:
1. עבור ל-`/login`
2. לחץ "התחבר עם Google"
3. בחר חשבון Google
4. זהו! התחברת אוטומטית

### שכחתי סיסמה:
1. בדף Login: לחץ "שכחתי סיסמה"
2. הזן את המייל שלך
3. לחץ "שלח לינק לאיפוס סיסמה"
4. בדוק את המייל וקבל לינק
5. לחץ על הלינק וצור סיסמה חדשה

---

## 🎯 הרשאות אדמין

משתמש זה (Shay) יקבל גישה מלאה ל:

- ✅ **כל הכרטיסים** במערכת
- ✅ **ניהול משתמשים** (צפייה, עריכה, מחיקה)
- ✅ **ניהול תבניות** (יצירה, עריכה, מחיקה)
- ✅ **ניהול קופונים** (יצירה ועריכה)
- ✅ **אנליטיקס מלא** של כל הפלטפורמה
- ✅ **הודעות צור קשר** (כל ההודעות)
- ✅ **פאנל אדמין** ב-`/admin`
- ✅ **תוכנית Enterprise** ללא הגבלה

---

## ⚙️ הגדרות Supabase נדרשות (אופציונלי)

לפני שתכונות Google ו-SMS יעבדו, צריך להגדיר:

### Google OAuth:
1. Supabase Dashboard → Authentication → Providers
2. אפשר את Google Provider
3. הזן Google Client ID ו-Secret
4. הוסף Redirect URL

### SMS (טלפון):
1. Supabase Dashboard → Authentication → Providers
2. אפשר Phone Provider
3. בחר SMS Provider (Twilio/MessageBird)
4. הזן API Keys

**לא חייב עכשיו!** - גם בלי זה התחברות רגילה עובדת מצוין.

---

## 🔧 בדיקה

אחרי יצירת האדמין:

```sql
-- בדוק שהאדמין נוצר
SELECT id, email, role, plan, status
FROM profiles
WHERE email = 'SHAY053713@GMAIL.COM';
```

צריך להחזיר:
- **role:** admin ✅
- **plan:** enterprise ✅
- **status:** active ✅

---

## 🎉 סיכום

כל תכונות האימות פעילות:
- ✅ התחברות עם מייל וסיסמה
- ✅ התחברות עם Google (צריך הגדרה ב-Supabase)
- ✅ התחברות עם טלפון (צריך הגדרה ב-Supabase)
- ✅ שכחתי סיסמה
- ✅ זכור אותי
- ✅ משתמש אדמין ראשי מוכן!

**התחבר עכשיו ותהנה מגישה מלאה!** 🚀

---

## 📁 פרטי התחברות
```
מייל:     shay053713@gmail.com
סיסמה:    555333111
תוכנית:   Enterprise (הרשאות מלאות)
סטטוס:    Active
```

### איך להתחבר

1. **פתח את האפליקציה**:
   ```bash
   npm run dev
   ```

2. **נווט לדף התחברות**:
   ```
   http://localhost:5173/login
   ```

3. **הזן את הפרטים**:
   - מייל: `shay053713@gmail.com`
   - סיסמה: `555333111`

4. **לחץ "התחבר"**

---

## 🛡️ הרשאות אדמין

משתמש זה מקבל גישה מלאה לכל היכולות הבאות:

### 1. ניהול משתמשים (Admin Panel)
📍 **מיקום**: `/admin` או כפתור "אדמין" בדשבורד

**יכולות**:
- ✅ צפייה בכל המשתמשים במערכת
- ✅ שינוי תוכנית משתמש (Starter → Pro → Enterprise)
- ✅ השעיית משתמשים (Active ↔ Suspended)
- ✅ הפעלת משתמשים חוזרת
- ✅ צפייה בפרטי משתמש מלאים

**כיצד**:
1. התחבר עם המייל shay053713@gmail.com
2. בדשבורד, לחץ על כפתור "אדמין" (פינה ימנית עליונה)
3. עבור לכרטיסייה "משתמשים"
4. בחר משתמש ושנה את התוכנית או הסטטוס

---

### 2. ניהול קופונים
📍 **מיקום**: `/admin` → כרטיסייה "קופונים"

**יכולות**:
- ✅ יצירת קופונים חדשים
- ✅ מחיקת קופונים קיימים
- ✅ צפייה בסטטיסטיקות שימוש
- ✅ קביעת הגבלות (תאריכים, מספר שימושים)

**קופונים קיימים במערכת**:
| קוד | סוג | ערך | שימושים |
|-----|-----|------|----------|
| WELCOME20 | אחוזים | 20% | 0/100 |
| SAVE50 | סכום קבוע | ₪50 | 0/50 |
| FIRST100 | סכום קבוע | ₪100 | 0/10 |
| PRO30 | אחוזים | 30% | 0/∞ |

**כיצד ליצור קופון חדש**:
1. עבור ל-Admin Panel → כרטיסייה "קופונים"
2. מלא את השדות:
   - **קוד קופון**: למשל "SUMMER50"
   - **סוג**: אחוזים או סכום קבוע
   - **ערך**: למשל 50 (50% או ₪50)
   - **מספר שימושים**: השאר ריק לשימוש בלתי מוגבל
3. לחץ "צור קופון"

---

### 3. סטטיסטיקות כלליות
📍 **מיקום**: `/admin` → ראש הדף

**נתונים זמינים**:
- 📊 סה"כ משתמשים
- ✅ משתמשים פעילים
- 🎴 סה"כ כרטיסים במערכת
- 👁️ סה"כ צפיות בכרטיסים

---

### 4. מתן תוכניות למשתמשים

**שינוי תוכנית למשתמש**:

1. **דרך פאנל אדמין** (מומלץ):
   ```
   /admin → משתמשים → בחר משתמש → שנה תוכנית
   ```
   - בחר בין: Starter / Pro / Enterprise
   - השינוי נשמר אוטומטית

2. **דרך SQL** (מתקדמים):
   ```sql
   UPDATE profiles
   SET plan = 'pro'
   WHERE email = 'user@example.com';
   ```

**הבדלים בין התוכניות**:

| תכונה | Starter | Pro | Enterprise |
|-------|---------|-----|------------|
| כרטיסים | 1 | 5 | ללא הגבלה |
| תבניות פרימיום | ❌ | ✅ | ✅ |
| דומיין מותאם | ❌ | ✅ | ✅ |
| הסרת מיתוג | ❌ | ✅ | ✅ |
| אנליטיקה מתקדמת | ❌ | ✅ | ✅ |
| תמיכה עדיפות | ❌ | ❌ | ✅ |
| מחיר שנתי | ₪149 | ₪349 | מותאם אישית |

---

## 🎯 זרימת עבודה טיפוסית

### תרחיש 1: הוספת משתמש חדש עם תוכנית Pro
1. המשתמש נרשם דרך `/signup`
2. אתה (אדמין) נכנס ל`/admin`
3. מוצא את המשתמש החדש
4. משנה תוכנית מ-Starter ל-Pro
5. המשתמש מקבל גישה מיידית לתכונות Pro

### תרחיש 2: יצירת קמפיין שיווקי עם קופון
1. נכנס ל`/admin` → קופונים
2. יוצר קופון "SUMMER30" - 30% הנחה
3. מגביל ל-100 שימושים ראשונים
4. משתף את הקוד בשיווק
5. עוקב אחר השימושים בזמן אמת

### תרחיש 3: טיפול במשתמש בעייתי
1. נכנס ל`/admin` → משתמשים
2. מוצא את המשתמש
3. משנה סטטוס ל-"Suspended"
4. המשתמש מאבד גישה מיידית
5. אפשר להפעיל חזרה בעתיד

---

## 📊 מעקב ובקרה

### לוג פעולות (עתידי)
בגרסאות עתידיות יתווסף:
- מעקב אחר שינויי תוכנית
- מעקב אחר השעיות משתמשים
- לוג יצירת/מחיקת קופונים
- התראות על פעילות חריגה

### בקרת גישה
- **רק** המייל `shay053713@gmail.com` יכול לגשת ל`/admin`
- משתמשים אחרים יופנו אוטומטית ל-Dashboard
- אין אפשרות לשדרג משתמשים אחרים לאדמין (ללא שינוי קוד)

---

## 🔧 פתרון בעיות

### לא מצליח להתחבר?
1. ודא שהמייל מדויק: `shay053713@gmail.com` (אותיות קטנות)
2. ודא שהסיסמה מדויקת: `555333111`
3. נסה לרענן את הדף ולנסות שוב
4. אם עדיין לא עובד, הרץ שוב:
   ```bash
   node create-admin-user.js
   ```

### לא רואה כפתור "אדמין"?
1. ודא שהתחברת עם המייל הנכון
2. רענן את הדף
3. בדוק בקונסול שאין שגיאות

### שינויים לא נשמרים?
1. בדוק חיבור אינטרנט
2. בדוק שאין שגיאות בקונסול
3. ודא שיש חיבור ל-Supabase

---

## 🚀 פקודות שימושיות

```bash
# הרצת האפליקציה
npm run dev

# בנייה לפרודקשן
npm run build

# יצירת משתמש אדמין מחדש (אם נדרש)
node create-admin-user.js

# בדיקת משתמשים במערכת
# (דרך Supabase Dashboard או SQL)
```

---

## 📞 תמיכה

אם אתה נתקל בבעיות:
1. בדוק את הקונסול בדפדפן (F12)
2. בדוק את לוגים של Supabase
3. ודא שכל התלויות מותקנות: `npm install`
4. נסה לבנות מחדש: `npm run build`

---

## ✨ סיכום מהיר

```
✅ משתמש אדמין נוצר
✅ מייל: shay053713@gmail.com
✅ סיסמה: 555333111
✅ תוכנית: Enterprise
✅ גישה לפאנל אדמין: /admin
✅ יכולת ניהול משתמשים ותוכניות
✅ יכולת ניהול קופונים
✅ סטטיסטיקות מלאות
```

**הכל מוכן לשימוש! 🎉**
